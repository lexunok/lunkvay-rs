# Техническое задание для тестирования веб-приложения "Lunkvay"

## 1. Назначение документа

Этот документ представляет собой техническое задание (ТЗ) для тестировщиков. Его цель — предоставить всю необходимую информацию для проведения комплексного тестирования веб-приложения "Lunkvay". Приложение разработано как учебная платформа для студентов, изучающих различные виды и методики тестирования программного обеспечения.

## 2. Обзор приложения "Lunkvay"

**Lunkvay** — это одностраничное веб-приложение (SPA), имитирующее социальную сеть. Оно создано для образовательных целей, чтобы тестировщики могли практиковать свои навыки на реальном, но контролируемом проекте.

**Основная идея:** предоставить студентам "песочницу", в которой можно и нужно находить баги всех мастей: от логических ошибок до проблем с безопасностью и вёрсткой.

## 3. Цели тестирования

Основная задача — покрыть приложение тестами, используя как можно больше подходов. Ниже перечислены ключевые виды тестирования, которые рекомендуется применить:

*   **Функциональное тестирование (ручное и автоматизированное):** Проверка корректности работы всех функций приложения.
*   **Тестирование API:** Проверка взаимодействия клиентской части с сервером.
*   **Тестирование пользовательского интерфейса (UI/UX):** Оценка вёрстки, дизайна и удобства использования.
*   **Тестирование безопасности:** Поиск уязвимостей (например, XSS, CSRF).
*   **Тестирование производительности:** Оценка скорости загрузки и отклика интерфейса.
*   **Тестирование совместимости:** Проверка работы в разных браузерах и на устройствах с разным разрешением экрана.

## 4. Модули и функционал приложения

Приложение состоит из следующих ключевых модулей:

### 4.1. Аутентификация
*   Страница входа (`/login`).
*   Регистрация новых пользователей (в текущей версии фронтенда не реализована, но есть API).
*   Выход из системы.

### 4.2. Профиль пользователя
*   Просмотр собственного профиля (`/profile`).
*   Просмотр профилей других пользователей (`/profile/:userId`).
*   Редактирование информации о себе (статус, "о себе").
*   Загрузка и удаление аватара.

### 4.3. Друзья
*   Просмотр списка друзей (`/friends`).
*   Просмотр входящих и исходящих заявок в друзья.
*   Возможность отправлять, принимать и отклонять заявки.

### 4.4. Чаты
*   Список чатов (`/chats`).
*   Просмотр сообщений в чате.
*   Отправка сообщений.
*   Создание групповых чатов.
*   Редактирование и удаление сообщений.

## 5. Идеи для тест-кейсов и сценариев

### 5.1. Функциональное тестирование

#### Сценарии для аутентификации:
1.  **Позитивный:** Вход с корректными данными (email, пароль). Ожидаемый результат: пользователь перенаправлен на главную страницу.
2.  **Негативный:** Вход с неверным паролем. Ожидаемый результат: отображается сообщение об ошибке.
3.  **Негативный:** Вход с несуществующим email. Ожидаемый результат: отображается сообщение об ошибке.
4.  **Граничные значения:** Попытка входа с пустыми полями. Проверка на минимальную/максимальную длину вводимых данных (если такие требования есть).

#### Сценарии для профиля:
1.  Успешное обновление статуса и информации "о себе".
2.  Попытка сохранить слишком длинный статус (проверить ограничения).
3.  Загрузка аватара допустимого формата и размера.
4.  Попытка загрузить файл недопустимого формата (например, `.txt`) или слишком большого размера.

#### Сценарии для чатов:
1.  Отправка и получение сообщения в реальном времени.
2.  Корректное отображение автора и времени сообщения.
3.  Редактирование собственного сообщения.
4.  Попытка отредактировать чужое сообщение.

### 5.2. Тестирование API

Используя документацию (`API_FRONTEND.md`), проверьте следующие эндпоинты. Можно использовать такие инструменты, как Postman или cURL.

1.  **`POST /api/v1/Auth/login`**: Отправьте запрос с неверными данными и убедитесь, что сервер возвращает ошибку `401 Unauthorized`.
2.  **`GET /api/v1/Profile/current-user-profile`**: Выполните запрос без токена авторизации. Ожидаемый результат: ошибка `401`.
3.  **`PATCH /api/v1/Profile/update`**: Попробуйте обновить профиль, передав в теле запроса некорректные данные (например, число вместо строки). Ожидаемый результат: ошибка `400 Bad Request`.
4.  **`POST /api/v1/friends/{friendId}`**: Попробуйте отправить заявку в друзья самому себе. Проанализируйте ответ сервера.

### 5.3. Тестирование пользовательского интерфейса (UI/UX)

1.  **Адаптивность:** Проверьте, как приложение выглядит на разных разрешениях экрана (десктоп, планшет, мобильный телефон). Используйте инструменты разработчика в браузере.
2.  **Кроссбраузерность:** Откройте приложение в нескольких браузерах (Chrome, Firefox, Safari, Edge) и убедитесь в отсутствии багов вёрстки.
3.  **Элементы интерфейса:** Проверьте все кнопки, иконки, поля ввода. Все ли они реагируют на нажатия? Понятны ли их функции?
4.  **Читабельность:** Оцените, легко ли читается текст, не слишком ли мелкий шрифт, достаточен ли контраст.

### 5.4. Тестирование безопасности

1.  **Межсайтовый скриптинг (XSS):**
    *   Попробуйте вставить в поля профиля (статус, "о себе") или в сообщение чата код `<script>alert('XSS')</script>`.
    *   Если после сохранения и обновления страницы появится `alert`, значит, приложение уязвимо.
2.  **Прямой доступ по URL:**
    *   Попробуйте зайти на страницы, требующие авторизации (`/profile`, `/chats`), не будучи залогиненным. Ожидаемый результат: перенаправление на страницу входа.

### 5.5. Тестирование производительности

1.  **Скорость загрузки:** Используя вкладку "Network" в инструментах разработчика, замерьте время загрузки приложения. Обратите внимание на размер Wasm-файла.
2.  **Отклик интерфейса:** Оцените, как быстро приложение реагирует на действия пользователя (открытие чата, переход по страницам). Есть ли заметные "тормоза"?

## 6. Сборка и запуск

### Установка Rust и Trunk

Проект требует установленный Rust и Trunk.

*   **Установка Rust (Windows/Linux):**
    ```bash
    # Скачайте и установите с официального сайта:
    # https://www.rust-lang.org/tools/install
    # Или используйте команду:
    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
    ```

*   **Установка Trunk:**
    ```bash
    cargo install trunk
    ```

### Настройка бэкенда

URL для подключения к бэкенду указывается в файле `src/utils.rs`.

### Запуск проекта

*   **Для запуска сервера разработки:**
    ```bash
    trunk serve --open
    ```
*   **Для сборки в продакшен:**
    ```bash
    trunk build --release
    ```
    
## 7. Стек технологий

*   **Язык:** Rust
*   **Фреймворк:** [Leptos](https://leptos.dev/) (v0.8.11)
*   **Сборщик:** [Trunk](https://trunkrs.dev/)
*   **Стилизация:** [Stylance](https://github.com/basro/stylance-rs) (SCSS)
